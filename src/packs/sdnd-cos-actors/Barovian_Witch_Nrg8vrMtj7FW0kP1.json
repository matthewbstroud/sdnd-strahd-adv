{
  "_id": "Nrg8vrMtj7FW0kP1",
  "name": "Barovian Witch",
  "type": "npc",
  "img": "modules/sdnd-strahd-adv/images/tokens/Mobs/Witch_CA.png",
  "items": [
    {
      "name": "Claws (Requires Alter Self)",
      "type": "weapon",
      "flags": {
        "ddbimporter": {
          "dndbeyond": {}
        },
        "monsterMunch": {
          "titleHTML": "<strong>Claws (Requires Alter Self).</strong>",
          "fullName": "Claws (Requires Alter Self)."
        },
        "dnd5e": {}
      },
      "img": "icons/commodities/claws/talon-red.webp",
      "_id": "9cfo48r9fyg5mo7x",
      "effects": [],
      "folder": null,
      "sort": 0,
      "system": {
        "description": {
          "value": "<p><em><strong></strong> Melee Weapon Attack:</em> +3 to hit, reach 5 ft., one target. Hit: 4 (1d6 + 1) slashing damage. This attack is magical.</p>",
          "chat": ""
        },
        "source": {
          "custom": "Curse of Strahd pg 229",
          "revision": 1,
          "rules": "2024"
        },
        "quantity": 1,
        "weight": {
          "value": 0,
          "units": "lb"
        },
        "price": {
          "value": 0,
          "denomination": "gp"
        },
        "attunement": "",
        "equipped": true,
        "rarity": "",
        "identified": true,
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "",
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": 5,
          "long": null,
          "units": "ft",
          "reach": null
        },
        "uses": {
          "value": 0,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": "cha",
        "actionType": "mwak",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "1d6[slashing] + @mod",
              "slashing"
            ]
          ],
          "versatile": {
            "number": null,
            "denomination": null,
            "bonus": "",
            "types": [],
            "custom": {
              "enabled": false,
              "formula": ""
            },
            "scaling": {
              "mode": "",
              "number": null,
              "formula": ""
            }
          },
          "base": {
            "number": null,
            "denomination": null,
            "bonus": "",
            "types": [
              "slashing"
            ],
            "custom": {
              "enabled": true,
              "formula": "1d6[slashing] + @mod"
            },
            "scaling": {
              "mode": "",
              "number": null,
              "formula": ""
            }
          }
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "flat"
        },
        "armor": {
          "value": 10
        },
        "hp": {
          "value": 0,
          "max": 0,
          "dt": null,
          "conditions": ""
        },
        "properties": [
          "rch"
        ],
        "proficient": 1,
        "unidentified": {
          "description": ""
        },
        "type": {
          "value": "natural",
          "baseItem": ""
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "container": null,
        "attuned": false,
        "enchantment": null,
        "summons": null,
        "magicalBonus": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "attack",
            "activation": {
              "type": "action",
              "value": 1,
              "condition": "",
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "concentration": false,
              "value": "",
              "units": "inst",
              "special": "",
              "override": false
            },
            "effects": [],
            "range": {
              "value": "5",
              "units": "ft",
              "special": "",
              "override": false
            },
            "target": {
              "template": {
                "count": "",
                "contiguous": false,
                "type": "",
                "size": "",
                "width": "",
                "height": "",
                "units": ""
              },
              "affects": {
                "count": "",
                "type": "",
                "choice": false,
                "special": ""
              },
              "prompt": true,
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "attack": {
              "ability": "cha",
              "bonus": "",
              "critical": {
                "threshold": null
              },
              "flat": false,
              "type": {
                "value": "melee",
                "classification": "weapon"
              }
            },
            "damage": {
              "critical": {
                "bonus": ""
              },
              "includeBase": true,
              "parts": []
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": "",
            "attackMode": "oneHanded",
            "ammunition": "",
            "otherActivityUuid": ""
          }
        },
        "identifier": "",
        "ammunition": {}
      },
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.9cfo48r9fyg5mo7x"
    },
    {
      "name": "Dagger",
      "type": "weapon",
      "flags": {
        "ddbimporter": {
          "dndbeyond": {}
        },
        "monsterMunch": {
          "titleHTML": "<strong>Dagger.</strong>",
          "fullName": "Dagger."
        },
        "dnd5e": {}
      },
      "img": "icons/weapons/daggers/dagger-curved-black.webp",
      "_id": "cs65a69fvgq3a0kz",
      "effects": [],
      "folder": null,
      "sort": 0,
      "system": {
        "description": {
          "value": "<p><em><strong></strong> Melee or Ranged Weapon Attack:</em> +2 to hit, reach 5 ft. or range 20/60 ft., one target. Hit: 2 (1d4) piercing damage.</p>",
          "chat": ""
        },
        "source": {
          "custom": "Curse of Strahd pg 229",
          "revision": 1,
          "rules": "2024"
        },
        "quantity": 1,
        "weight": {
          "value": 0,
          "units": "lb"
        },
        "price": {
          "value": 0,
          "denomination": "gp"
        },
        "attunement": "",
        "equipped": true,
        "rarity": "",
        "identified": true,
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "",
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": 20,
          "long": 60,
          "units": "ft",
          "reach": null
        },
        "uses": {
          "value": 0,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": "dex",
        "actionType": "mwak",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "1d4[piercing]",
              "piercing"
            ]
          ],
          "versatile": {
            "number": null,
            "denomination": null,
            "bonus": "",
            "types": [],
            "custom": {
              "enabled": false,
              "formula": ""
            },
            "scaling": {
              "mode": "",
              "number": null,
              "formula": ""
            }
          },
          "base": {
            "number": null,
            "denomination": null,
            "bonus": "",
            "types": [
              "piercing"
            ],
            "custom": {
              "enabled": true,
              "formula": "1d4[piercing]"
            },
            "scaling": {
              "mode": "",
              "number": null,
              "formula": ""
            }
          }
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "flat"
        },
        "armor": {
          "value": 10
        },
        "hp": {
          "value": 0,
          "max": 0,
          "dt": null,
          "conditions": ""
        },
        "properties": [
          "fin",
          "lgt",
          "rch",
          "thr"
        ],
        "proficient": 1,
        "unidentified": {
          "description": ""
        },
        "type": {
          "value": "simpleM",
          "baseItem": ""
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "container": null,
        "attuned": false,
        "enchantment": null,
        "summons": null,
        "magicalBonus": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "attack",
            "activation": {
              "type": "action",
              "value": 1,
              "condition": "",
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "concentration": false,
              "value": "",
              "units": "inst",
              "special": "",
              "override": false
            },
            "effects": [],
            "range": {
              "value": "20",
              "units": "ft",
              "special": "",
              "override": false
            },
            "target": {
              "template": {
                "count": "",
                "contiguous": false,
                "type": "",
                "size": "",
                "width": "",
                "height": "",
                "units": ""
              },
              "affects": {
                "count": "",
                "type": "",
                "choice": false,
                "special": ""
              },
              "prompt": true,
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "attack": {
              "ability": "dex",
              "bonus": "",
              "critical": {
                "threshold": null
              },
              "flat": false,
              "type": {
                "value": "melee",
                "classification": "weapon"
              }
            },
            "damage": {
              "critical": {
                "bonus": ""
              },
              "includeBase": true,
              "parts": []
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": "",
            "attackMode": "oneHanded",
            "ammunition": "",
            "otherActivityUuid": ""
          }
        },
        "identifier": "",
        "ammunition": {}
      },
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.cs65a69fvgq3a0kz"
    },
    {
      "name": "Spellcasting",
      "type": "feat",
      "flags": {
        "ddbimporter": {
          "dndbeyond": {}
        },
        "monsterMunch": {
          "titleHTML": "<em><strong>Spellcasting.</strong></em>",
          "fullName": "Spellcasting."
        }
      },
      "img": "icons/magic/light/beam-rays-magenta-large.webp",
      "_id": "ki90akgly8ptpukw",
      "effects": [],
      "folder": null,
      "sort": 0,
      "system": {
        "description": {
          "value": "<p><em><strong></strong></em> The witch is a 3rd-level spellcaster. Its spellcasting ability is Intelligence (spell save DC 12, +4 to hit with spell attacks). The witch has the following wizard spells prepared:</p><p>Cantrips (at will): mage hand, prestidigitation, ray of frost</p><p>1st level (4 slots): ray of sickness, sleep, Tasha’s hideous laughter</p><p>2nd level (2 slots): alter self, invisibility</p>",
          "chat": ""
        },
        "source": {
          "custom": "Curse of Strahd pg 229",
          "revision": 1,
          "rules": "2024"
        },
        "activation": {
          "type": "",
          "cost": 0,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": ""
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "",
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": ""
        },
        "uses": {
          "value": 0,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": null,
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "type": {
          "value": "",
          "subtype": ""
        },
        "requirements": "",
        "recharge": {
          "value": null,
          "charged": false
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "enchantment": null,
        "summons": null,
        "prerequisites": {
          "level": null,
          "repeatable": false
        },
        "properties": [],
        "activities": {},
        "identifier": "",
        "advancement": [],
        "enchant": {}
      },
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.ki90akgly8ptpukw"
    },
    {
      "name": "Mage Hand",
      "type": "spell",
      "img": "icons/magic/unholy/strike-hand-glow-pink.webp",
      "effects": [],
      "folder": null,
      "sort": 0,
      "flags": {
        "ddbimporter": {
          "id": 138434,
          "definitionId": 2173,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Mage Hand",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 256,
              "sourceType": 1
            }
          ],
          "tags": [
            "Utility"
          ],
          "version": "2.9.67",
          "effectsApplied": true
        },
        "dnd5e": {}
      },
      "_id": "wy309hyu77ivuqwt",
      "system": {
        "description": {
          "value": "<p>A spectral, floating hand appears at a point you choose within range. The hand lasts for the duration or until you dismiss it as an action. The hand vanishes if it is ever more than 30 feet away from you or if you cast this spell again.</p>\n<p>You can use your action to control the hand. You can use the hand to manipulate an object, open an unlocked door or container, stow or retrieve an item from an open container, or pour the contents out of a vial. You can move the hand up to 30 feet each time you use it.</p>\n<p>The hand can't attack, activate magic items, or carry more than 10 pounds.</p>",
          "chat": ""
        },
        "source": {
          "custom": "Basic Rules, Player's Handbook pg 256",
          "revision": 1,
          "rules": "2024"
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": "",
          "value": 1
        },
        "duration": {
          "value": "1",
          "units": "minute"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "",
          "width": null,
          "units": "",
          "type": "",
          "prompt": true,
          "affects": {
            "choice": false
          },
          "template": {
            "units": "",
            "contiguous": false
          }
        },
        "range": {
          "value": "30",
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": "other",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "level": 0,
        "school": "con",
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "summons": null,
        "properties": [
          "vocal",
          "somatic"
        ],
        "enchantment": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "utility",
            "activation": {
              "type": "action",
              "value": null,
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "units": "inst",
              "concentration": false,
              "override": false
            },
            "effects": [],
            "range": {
              "override": false
            },
            "target": {
              "prompt": true,
              "template": {
                "contiguous": false,
                "units": "ft"
              },
              "affects": {
                "choice": false
              },
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "roll": {
              "formula": "",
              "name": "",
              "prompt": false,
              "visible": false
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": "none"
          }
        },
        "identifier": ""
      },
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.wy309hyu77ivuqwt"
    },
    {
      "name": "Prestidigitation",
      "type": "spell",
      "img": "icons/magic/symbols/runes-triangle-magenta.webp",
      "effects": [],
      "folder": null,
      "sort": 0,
      "flags": {
        "ddbimporter": {
          "id": 138586,
          "definitionId": 2213,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Prestidigitation",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 267,
              "sourceType": 1
            }
          ],
          "tags": [
            "Utility"
          ],
          "version": "2.9.67",
          "effectsApplied": true
        },
        "dnd5e": {}
      },
      "_id": "dn6q08yr8fhftkro",
      "system": {
        "description": {
          "value": "<p>This spell is a minor magical trick that novice spellcasters use for practice. You create one of the following magical effects within range:</p>\n<ul>\n<li>You create an instantaneous, harmless sensory effect, such as a shower of sparks, a puff of wind, faint musical notes, or an odd odor.</li>\n<li>You instantaneously light or snuff out a candle, a torch, or a small campfire.</li>\n<li>You instantaneously clean or soil an object no larger than 1 cubic foot.</li>\n<li>You chill, warm, or flavor up to 1 cubic foot of nonliving material for 1 hour.</li>\n<li>You make a color, a small mark, or a symbol appear on an object or a surface for 1 hour.</li>\n<li>You create a nonmagical trinket or an illusory image that can fit in your hand and that lasts until the end of your next turn.</li>\n</ul>\n<p><br />If you cast this spell multiple times, you can have up to three of its non-instantaneous effects active at a time, and you can dismiss such an effect as an action.</p>",
          "chat": ""
        },
        "source": {
          "custom": "Basic Rules, Player's Handbook pg 267",
          "revision": 1,
          "rules": "2024"
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": "",
          "value": 1
        },
        "duration": {
          "value": "1",
          "units": "hour"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "",
          "width": null,
          "units": "",
          "type": "",
          "prompt": true,
          "affects": {
            "choice": false
          },
          "template": {
            "units": "",
            "contiguous": false
          }
        },
        "range": {
          "value": "10",
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": "other",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "level": 0,
        "school": "trs",
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "summons": null,
        "properties": [
          "vocal",
          "somatic"
        ],
        "enchantment": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "utility",
            "activation": {
              "type": "action",
              "value": null,
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "units": "inst",
              "concentration": false,
              "override": false
            },
            "effects": [],
            "range": {
              "override": false
            },
            "target": {
              "prompt": true,
              "template": {
                "contiguous": false,
                "units": "ft"
              },
              "affects": {
                "choice": false
              },
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "roll": {
              "formula": "",
              "name": "",
              "prompt": false,
              "visible": false
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": "none"
          }
        },
        "identifier": ""
      },
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.dn6q08yr8fhftkro"
    },
    {
      "name": "Ray of Frost",
      "type": "spell",
      "img": "icons/magic/light/beam-rays-teal-purple.webp",
      "effects": [
        {
          "changes": [
            {
              "key": "system.attributes.movement.walk",
              "value": "-10",
              "mode": 2,
              "priority": 20
            }
          ],
          "duration": {
            "startTime": null,
            "seconds": null,
            "combat": null,
            "rounds": null,
            "turns": null,
            "startRound": null,
            "startTurn": null
          },
          "tint": "#ffffff",
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "none",
              "specialDuration": [
                "turnStart"
              ]
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            }
          },
          "_id": "0j3sviqtxk47ek2w",
          "origin": null,
          "name": "Ray of Frost",
          "description": "",
          "statuses": [],
          "_stats": {
            "coreVersion": "12.331",
            "systemId": null,
            "systemVersion": null,
            "createdTime": null,
            "modifiedTime": null,
            "lastModifiedBy": null,
            "compendiumSource": null,
            "duplicateSource": null
          },
          "img": "icons/magic/light/beam-rays-blue-small.webp",
          "type": "base",
          "system": {},
          "sort": 0,
          "_key": "!actors.items.effects!Nrg8vrMtj7FW0kP1.1fi3wkwtj2ziwhxp.0j3sviqtxk47ek2w"
        }
      ],
      "folder": null,
      "sort": 0,
      "flags": {
        "ddbimporter": {
          "id": 138633,
          "definitionId": 2226,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Ray of Frost",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 271,
              "sourceType": 1
            }
          ],
          "tags": [
            "Damage"
          ],
          "version": "2.9.67",
          "effectsApplied": true
        },
        "dnd5e": {}
      },
      "_id": "1fi3wkwtj2ziwhxp",
      "system": {
        "description": {
          "value": "<p>A frigid beam of blue-white light streaks toward a creature within range. Make a ranged spell attack against the target. On a hit, it takes 1d8 cold damage, and its speed is reduced by 10 feet until the start of your next turn.</p>\n<p>The spell's damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</p>",
          "chat": ""
        },
        "source": {
          "custom": "Basic Rules, Player's Handbook pg 271",
          "revision": 1,
          "rules": "2024"
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": "",
          "value": 1
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "1",
          "width": null,
          "units": "",
          "type": "creature",
          "prompt": true,
          "affects": {
            "type": "creature",
            "count": "1",
            "choice": false
          },
          "template": {
            "units": "",
            "contiguous": false
          }
        },
        "range": {
          "value": "60",
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": "rsak",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "1d8[cold]",
              "cold"
            ]
          ],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "level": 0,
        "school": "evo",
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "cantrip",
          "formula": "1d8"
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "summons": null,
        "properties": [
          "vocal",
          "somatic"
        ],
        "enchantment": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "attack",
            "activation": {
              "type": "action",
              "value": null,
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "units": "inst",
              "concentration": false,
              "override": false
            },
            "effects": [
              {
                "_id": "0j3sviqtxk47ek2w"
              }
            ],
            "range": {
              "override": false
            },
            "target": {
              "prompt": true,
              "template": {
                "contiguous": false,
                "units": "ft"
              },
              "affects": {
                "choice": false
              },
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "attack": {
              "ability": "",
              "bonus": "",
              "critical": {
                "threshold": null
              },
              "flat": false,
              "type": {
                "value": "ranged",
                "classification": "spell"
              }
            },
            "damage": {
              "critical": {
                "bonus": ""
              },
              "includeBase": true,
              "parts": [
                {
                  "number": null,
                  "denomination": null,
                  "bonus": "",
                  "types": [
                    "cold"
                  ],
                  "custom": {
                    "enabled": true,
                    "formula": "1d8[cold]"
                  },
                  "scaling": {
                    "mode": "whole",
                    "number": 1,
                    "formula": ""
                  }
                }
              ]
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": "",
            "attackMode": "oneHanded",
            "ammunition": "",
            "otherActivityUuid": ""
          }
        },
        "identifier": ""
      },
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.1fi3wkwtj2ziwhxp"
    },
    {
      "name": "Ray of Sickness",
      "type": "spell",
      "img": "icons/magic/light/beam-rays-teal.webp",
      "effects": [],
      "folder": null,
      "sort": 0,
      "flags": {
        "ddbimporter": {
          "id": 138636,
          "definitionId": 2318,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Ray of Sickness",
          "sources": [
            {
              "sourceId": 2,
              "pageNumber": 271,
              "sourceType": 1
            }
          ],
          "tags": [
            "Damage",
            "Debuff"
          ],
          "version": "2.9.67",
          "effectsApplied": true
        },
        "dnd5e": {}
      },
      "_id": "76jegoakzchm30dx",
      "system": {
        "description": {
          "value": "<p>A ray of sickening greenish energy lashes out toward a creature within range. Make a ranged spell attack against the target. On a hit, the target takes 2d8 poison damage and must make a Constitution saving throw. On a failed save, it is also @Compendium[dnd5e.rules.Poisoned]{poisoned} until the end of your next turn.</p>\n<p><strong>At Higher Levels. </strong>When you cast this spell using a spell slot of 2nd level or higher, the damage increases by 1d8 for each slot level above 1st.</p>",
          "chat": ""
        },
        "source": {
          "custom": "Player's Handbook pg 271",
          "revision": 1,
          "rules": "2024"
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": "",
          "value": 1
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "1",
          "width": null,
          "units": "",
          "type": "creature",
          "prompt": true,
          "affects": {
            "type": "creature",
            "count": "1",
            "choice": false
          },
          "template": {
            "units": "",
            "contiguous": false
          }
        },
        "range": {
          "value": "60",
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": "rsak",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "2d8[poison]",
              "poison"
            ]
          ],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "con",
          "dc": null,
          "scaling": "spell"
        },
        "level": 1,
        "school": "nec",
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "level",
          "formula": "1d8"
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "summons": null,
        "properties": [
          "vocal",
          "somatic"
        ],
        "enchantment": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "attack",
            "activation": {
              "type": "action",
              "value": null,
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "units": "inst",
              "concentration": false,
              "override": false
            },
            "effects": [],
            "range": {
              "override": false
            },
            "target": {
              "prompt": true,
              "template": {
                "contiguous": false,
                "units": "ft"
              },
              "affects": {
                "choice": false
              },
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "attack": {
              "ability": "",
              "bonus": "",
              "critical": {
                "threshold": null
              },
              "flat": false,
              "type": {
                "value": "ranged",
                "classification": "spell"
              }
            },
            "damage": {
              "critical": {
                "bonus": ""
              },
              "includeBase": true,
              "parts": [
                {
                  "number": null,
                  "denomination": null,
                  "bonus": "",
                  "types": [
                    "poison"
                  ],
                  "custom": {
                    "enabled": true,
                    "formula": "2d8[poison]"
                  },
                  "scaling": {
                    "mode": "whole",
                    "number": null,
                    "formula": "1d8"
                  }
                }
              ]
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": "",
            "attackMode": "oneHanded",
            "ammunition": "",
            "otherActivityUuid": ""
          },
          "dnd5eactivity100": {
            "_id": "dnd5eactivity100",
            "type": "save",
            "activation": {
              "type": "action",
              "value": null,
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "units": "inst",
              "concentration": false,
              "override": false
            },
            "effects": [],
            "range": {
              "override": false
            },
            "target": {
              "prompt": true,
              "template": {
                "contiguous": false,
                "units": "ft"
              },
              "affects": {
                "choice": false
              },
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "damage": {
              "onSave": "half",
              "parts": [
                {
                  "number": null,
                  "denomination": null,
                  "bonus": "",
                  "types": [
                    "poison"
                  ],
                  "custom": {
                    "enabled": true,
                    "formula": "2d8[poison]"
                  },
                  "scaling": {
                    "mode": "whole",
                    "number": null,
                    "formula": "1d8"
                  }
                }
              ],
              "critical": {
                "allow": false
              }
            },
            "save": {
              "ability": [
                "con"
              ],
              "dc": {
                "calculation": "spellcasting",
                "formula": ""
              }
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": ""
          }
        },
        "identifier": ""
      },
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.76jegoakzchm30dx"
    },
    {
      "name": "Sleep",
      "type": "spell",
      "img": "icons/magic/air/fog-gas-smoke-swirling-gray.webp",
      "effects": [],
      "folder": null,
      "sort": 0,
      "flags": {
        "ddbimporter": {
          "id": 138729,
          "definitionId": 2254,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Sleep",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 276,
              "sourceType": 1
            }
          ],
          "tags": [
            "Control"
          ],
          "version": "2.9.67",
          "effectsApplied": true
        },
        "itemacro": {
          "macro": {
            "data": {
              "name": "Sleep",
              "type": "script",
              "scope": "global",
              "command": "// based on @ccjmk and @crymic macro for sleep. Gets targets and ignores those who are immune to sleep.\n// uses convinient effects\n// Midi-qol \"On Use\"\n\nasync function wait(ms) { return new Promise(resolve => { setTimeout(resolve, ms); }); }\nconst sleepHp = await args[0].damageTotal;\nconst condition = \"Unconscious\";\nconsole.log(`Sleep Spell => Available HP Pool [${sleepHp}] points`);\nconst targets = await args[0].targets.filter((i) => i.actor.data.data.attributes.hp.value != 0 && !i.actor.effects.find(x => x.data.label === condition)).sort((a, b) => canvas.tokens.get(a.id).actor.data.data.attributes.hp.value < canvas.tokens.get(b.id).actor.data.data.attributes.hp.value ? -1 : 1);\nlet remainingSleepHp = sleepHp;\nlet sleepTarget = [];\n\nfor (let target of targets) {\n    const findTarget = await canvas.tokens.get(target.id);\n    const immuneType = findTarget.actor.data.type === \"character\" ? [\"undead\", \"construct\"].some(race => (findTarget.actor.data.data.details.race || \"\").toLowerCase().includes(race)) : [\"undead\", \"construct\"].some(value => (findTarget.actor.data.data.details.type.value || \"\").toLowerCase().includes(value));\n    const immuneCI = findTarget.actor.data.data.traits.ci.custom.includes(\"Sleep\");\n    const sleeping = findTarget.actor.effects.find((i) => i.data.label === condition);\n    const targetHpValue = findTarget.actor.data.data.attributes.hp.value;\n    if ((immuneType) || (immuneCI) || (sleeping)) {\n        console.log(`Sleep Results => Target: ${findTarget.name} | HP: ${targetHpValue} | Status: Resists`);\n        sleepTarget.push(`<div class=\"midi-qol-flex-container\"><div>Resists</div><div class=\"midi-qol-target-npc midi-qol-target-name\" id=\"${findTarget.id}\"> ${findTarget.name}</div><div><img src=\"${findTarget.data.img}\" width=\"30\" height=\"30\" style=\"border:0px\"></div></div>`);\n        continue;\n    }\n    if (remainingSleepHp >= targetHpValue) {\n        remainingSleepHp -= targetHpValue;\n        console.log(`Sleep Results => Target: ${findTarget.name} |  HP: ${targetHpValue} | HP Pool: ${remainingSleepHp} | Status: Slept`);\n        sleepTarget.push(`<div class=\"midi-qol-flex-container\"><div>Slept</div><div class=\"midi-qol-target-npc midi-qol-target-name\" id=\"${findTarget.id}\"> ${findTarget.name}</div><div><img src=\"${findTarget.data.img}\" width=\"30\" height=\"30\" style=\"border:0px\"></div></div>`);\n        const gameRound = game.combat ? game.combat.round : 0;\n        const effectData = {\n            label: \"Sleep Spell\",\n            icon: \"icons/svg/sleep.svg\",\n            origin: args[0].uuid,\n            disabled: false,\n            duration: { rounds: 10, seconds: 60, startRound: gameRound, startTime: game.time.worldTime },\n            flags: { dae: { specialDuration: [\"isDamaged\"] } },\n            changes: [\n              { key: \"macro.CE\", mode: CONST.ACTIVE_EFFECT_MODES.CUSTOM, value: \"Prone\", priority: 20 },\n              { key: \"macro.CE\", mode: CONST.ACTIVE_EFFECT_MODES.CUSTOM, value: \"Unconscious\", priority: 20 },\n            ]\n        };\n\n        await MidiQOL.socket().executeAsGM(\"createEffects\", { actorUuid: findTarget.actor.uuid, effects: [effectData] });\n        continue;\n    } else {\n        console.log(`Sleep Results => Target: ${target.name} | HP: ${targetHpValue} | HP Pool: ${remainingSleepHp - targetHpValue} | Status: Missed`);\n        sleepTarget.push(`<div class=\"midi-qol-flex-container\"><div>misses</div><div class=\"midi-qol-target-npc midi-qol-target-name\" id=\"${findTarget.id}\"> ${findTarget.name}</div><div><img src=\"${findTarget.data.img}\" width=\"30\" height=\"30\" style=\"border:0px\"></div></div>`);\n    }\n}\nawait wait(500);\nconst sleptResults = `<div><div class=\"midi-qol-nobox\">${sleepTarget.join('')}</div></div>`;\nconst chatMessage = game.messages.get(args[0].itemCardId);\nlet content = duplicate(chatMessage.data.content);\nconst searchString = /<div class=\"midi-qol-hits-display\">[\\s\\S]*<div class=\"end-midi-qol-hits-display\">/g;\nconst replaceString = `<div class=\"midi-qol-hits-display\"><div class=\"end-midi-qol-hits-display\">${sleptResults}`;\ncontent = await content.replace(searchString, replaceString);\nawait chatMessage.update({ content: content });\n"
            },
            "options": {},
            "apps": {},
            "compendium": null
          }
        },
        "midi-qol": {
          "onUseMacroName": "[postActiveEffects]ItemMacro"
        },
        "dnd5e": {}
      },
      "_id": "8f4v7v6g0a3ix5la",
      "system": {
        "description": {
          "value": "<p>This spell sends creatures into a magical slumber. Roll 5d8; the total is how many hit points of creatures this spell can affect. Creatures within 20 feet of a point you choose within range are affected in ascending order of their current hit points (ignoring @Compendium[dnd5e.rules.Unconscious]{unconscious} creatures).</p>\n<p>Starting with the creature that has the lowest current hit points, each creature affected by this spell falls @Compendium[dnd5e.rules.Unconscious]{unconscious} until the spell ends, the sleeper takes damage, or someone uses an action to shake or slap the sleeper awake. Subtract each creature’s hit points from the total before moving on to the creature with the next lowest hit points. A creature’s hit points must be equal to or less than the remaining total for that creature to be affected.</p>\n<p>Undead and creatures immune to being @Compendium[dnd5e.rules.Charmed]{charmed} aren’t affected by this spell.</p>\n<p><em><strong>At Higher Levels.</strong></em> When you cast this spell using a spell slot of 2nd level or higher, roll an additional 2d8 for each slot level above 1st.</p>",
          "chat": ""
        },
        "source": {
          "custom": "Basic Rules, Player's Handbook pg 276",
          "revision": 1,
          "rules": "2024"
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": "",
          "value": 1
        },
        "duration": {
          "value": "1",
          "units": "minute"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "20",
          "width": null,
          "units": "ft",
          "type": "sphere",
          "prompt": true,
          "affects": {
            "choice": false
          },
          "template": {
            "units": "ft",
            "type": "sphere",
            "size": "20",
            "contiguous": false
          }
        },
        "range": {
          "value": "90",
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": "other",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "5d8",
              "midi-none"
            ]
          ],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "level": 1,
        "school": "enc",
        "materials": {
          "value": "a pinch of fine sand, rose petals, or a cricket",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "level",
          "formula": "2d8"
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "summons": null,
        "properties": [
          "vocal",
          "somatic",
          "material",
          "value"
        ],
        "enchantment": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "damage",
            "activation": {
              "type": "action",
              "value": null,
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "units": "inst",
              "concentration": false,
              "override": false
            },
            "effects": [],
            "range": {
              "override": false
            },
            "target": {
              "prompt": true,
              "template": {
                "contiguous": false,
                "units": "ft"
              },
              "affects": {
                "choice": false
              },
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "damage": {
              "critical": {
                "allow": false,
                "bonus": ""
              },
              "parts": [
                {
                  "number": 5,
                  "denomination": 8,
                  "bonus": "",
                  "types": [
                    "midi-none"
                  ],
                  "custom": {
                    "enabled": false,
                    "formula": ""
                  },
                  "scaling": {
                    "mode": "whole",
                    "number": 2,
                    "formula": ""
                  }
                }
              ]
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            }
          }
        },
        "identifier": ""
      },
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.8f4v7v6g0a3ix5la"
    },
    {
      "name": "Tasha's Hideous Laughter",
      "type": "spell",
      "img": "icons/sundries/misc/teeth-dentures.webp",
      "effects": [
        {
          "changes": [
            {
              "key": "StatusEffect",
              "mode": 0,
              "value": "Convenient Effect: Incapacitated",
              "priority": 20
            },
            {
              "key": "StatusEffect",
              "mode": 0,
              "value": "Convenient Effect: Prone",
              "priority": 20
            },
            {
              "key": "flags.midi-qol.OverTime",
              "mode": 5,
              "value": "label=Hideous Laughter (End of Turn),turn=end,saveDC=@attributes.spelldc,saveAbility=wis,saveMagic=true",
              "priority": 20
            },
            {
              "key": "macro.itemMacro",
              "value": "",
              "mode": 0,
              "priority": 20
            }
          ],
          "duration": {
            "startTime": null,
            "seconds": null,
            "combat": null,
            "rounds": null,
            "turns": null,
            "startRound": null,
            "startTurn": null
          },
          "tint": "#ffffff",
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "none"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            }
          },
          "_id": "rx4mdtish2q0m8l7",
          "origin": null,
          "name": "Tasha's Hideous Laughter",
          "description": "",
          "statuses": [],
          "_stats": {
            "coreVersion": "12.331",
            "systemId": null,
            "systemVersion": null,
            "createdTime": null,
            "modifiedTime": null,
            "lastModifiedBy": null,
            "compendiumSource": null,
            "duplicateSource": null
          },
          "img": "icons/sundries/misc/teeth-dentures.webp",
          "type": "base",
          "system": {},
          "sort": 0,
          "_key": "!actors.items.effects!Nrg8vrMtj7FW0kP1.volbiadc99luquju.rx4mdtish2q0m8l7"
        }
      ],
      "folder": null,
      "sort": 0,
      "flags": {
        "ddbimporter": {
          "id": 138833,
          "definitionId": 2320,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Tasha's Hideous Laughter",
          "sources": [
            {
              "sourceId": 2,
              "pageNumber": 280,
              "sourceType": 1
            }
          ],
          "tags": [
            "Control",
            "Debuff"
          ],
          "version": "2.9.67",
          "effectsApplied": true
        },
        "itemacro": {
          "macro": {
            "data": {
              "name": "Tasha's Hideous Laughter",
              "type": "script",
              "scope": "global",
              "command": "const lastArg = args[args.length - 1];\nconst tokenOrActor = await fromUuid(lastArg.actorUuid);\nconst targetActor = tokenOrActor.actor ? tokenOrActor.actor : tokenOrActor;\nconst targetToken = await fromUuid(lastArg.tokenUuid);\n\nconst DAEItem = lastArg.efData.flags.dae.itemData;\nconst saveData = DAEItem.data.save;\nconst flavor = `${CONFIG.DND5E.abilities[\"wis\"]} DC${saveData.dc} ${DAEItem?.name || \"\"}`;\n\nfunction effectAppliedAndActive(conditionName) {\n  return targetActor.data.effects.some(\n    (activeEffect) =>\n      activeEffect?.data?.flags?.isConvenient &&\n      activeEffect?.data?.label == conditionName &&\n      !activeEffect?.data?.disabled\n  );\n}\n\nasync function cleanUp() {\n  // cleanup conditions\n  const hasProne = effectAppliedAndActive(\"Prone\", targetActor);\n  if (hasProne) await game.dfreds.effectInterface.toggleEffect({ effectName: \"Prone\", uuid: targetActor.uuid });\n  const hasIncapacitated = effectAppliedAndActive(\"Incapacitated\", targetActor);\n  if (hasIncapacitated) await game.dfreds.effectInterface.toggleEffect({ effectName: \"Incapacitated\", uuid: targetActor.uuid });\n  // remove hook\n  const flag = await DAE.getFlag(targetActor, \"hideousLaughterHook\");\n  if (flag) {\n    Hooks.off(\"preUpdateActor\", flag);\n    await DAE.unsetFlag(targetActor, \"hideousLaughterHook\");\n  }\n  // remove effect\n  await targetActor.deleteEmbeddedDocuments(\"ActiveEffect\", [lastArg.effectId]);\n}\n\nasync function onDamageHook(hookActor, update, options, userId) {\n  const flag = await DAE.getFlag(hookActor, \"hideousLaughterHook\");\n  if (!\"actorData.data.attributes.hp\" in update || !flag) return;\n  const oldHP = hookActor.data.data.attributes.hp.value;\n  const newHP = getProperty(update, \"data.attributes.hp.value\");\n  const hpChange = oldHP - newHP;\n  if (hpChange > 0 && typeof hpChange === \"number\") {\n    console.warn(\"hookActor\", hookActor);\n    const saveActor = game.actors.get(hookActor.id);\n    const saveRoll = await saveActor.rollAbilitySave(saveData.ability, {\n      flavor,\n      fastForward: true,\n      advantage: true,\n    });\n    if (saveRoll.total >= saveData.dc) {\n      await cleanUp();\n    }\n  }\n}\n\nif (args[0] === \"on\") {\n  if (targetActor.data.data.abilities.int.value < 4) {\n    await cleanUp();\n  } else {\n    const hookId = Hooks.on(\"preUpdateActor\", onDamageHook);\n    await DAE.setFlag(targetActor, \"hideousLaughterHook\", hookId);\n  }\n}\n\nif (args[0] === \"off\") {\n  await cleanUp();\n}\n\nif (args[0] === \"each\") {\n  const saveRoll = await targetActor.rollAbilitySave(saveData.ability, { flavor });\n  if (saveRoll.total >= saveData.dc) {\n    await cleanUp();\n  }\n}\n"
            },
            "options": {},
            "apps": {},
            "compendium": null
          }
        },
        "dnd5e": {}
      },
      "_id": "volbiadc99luquju",
      "system": {
        "description": {
          "value": "<p>A creature of your choice that you can see within range perceives everything as hilariously funny and falls into fits of laughter if this spell affects it. The target must succeed on a Wisdom saving throw or fall @Compendium[dnd5e.rules.Prone]{prone}, becoming @Compendium[dnd5e.rules.Incapacitated]{incapacitated} and unable to stand up for the duration. A creature with an Intelligence score of 4 or less isn’t affected.<br /><br />At the end of each of its turns, and each time it takes damage, the target can make another Wisdom saving throw. The target has advantage on the saving throw if it’s triggered by damage. On a success, the spell ends.</p>",
          "chat": ""
        },
        "source": {
          "custom": "Player's Handbook pg 280",
          "revision": 1,
          "rules": "2024"
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": "",
          "value": 1
        },
        "duration": {
          "value": "1",
          "units": "minute"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "1",
          "width": null,
          "units": "",
          "type": "creature",
          "prompt": true,
          "affects": {
            "type": "creature",
            "count": "1",
            "choice": false
          },
          "template": {
            "units": "",
            "contiguous": false
          }
        },
        "range": {
          "value": "30",
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": "save",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "wis",
          "dc": null,
          "scaling": "spell"
        },
        "level": 1,
        "school": "enc",
        "materials": {
          "value": "tiny tarts and a feather that is waved in the air",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "summons": null,
        "properties": [
          "vocal",
          "somatic",
          "material",
          "concentration",
          "value"
        ],
        "enchantment": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "save",
            "activation": {
              "type": "action",
              "value": null,
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "units": "inst",
              "concentration": false,
              "override": false
            },
            "effects": [
              {
                "_id": "rx4mdtish2q0m8l7",
                "onSave": false
              }
            ],
            "range": {
              "override": false
            },
            "target": {
              "prompt": true,
              "template": {
                "contiguous": false,
                "units": "ft"
              },
              "affects": {
                "choice": false
              },
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "damage": {
              "onSave": "half",
              "parts": [],
              "critical": {
                "allow": false
              }
            },
            "save": {
              "ability": [
                "wis"
              ],
              "dc": {
                "calculation": "spellcasting",
                "formula": ""
              }
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": ""
          }
        },
        "identifier": ""
      },
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.volbiadc99luquju"
    },
    {
      "name": "Alter Self",
      "type": "spell",
      "img": "icons/magic/control/debuff-energy-hold-green.webp",
      "effects": [
        {
          "changes": [
            {
              "key": "system.attributes.movement.swim",
              "value": "@attributes.movement.walk",
              "mode": 4,
              "priority": 20
            }
          ],
          "duration": {
            "startTime": null,
            "seconds": null,
            "combat": null,
            "rounds": null,
            "turns": null,
            "startRound": null,
            "startTurn": null
          },
          "tint": "#ffffff",
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "none"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            }
          },
          "_id": "1h96e5p95dybhjbu",
          "origin": null,
          "name": "Alter Self",
          "description": "",
          "statuses": [],
          "_stats": {
            "coreVersion": "12.331",
            "systemId": null,
            "systemVersion": null,
            "createdTime": null,
            "modifiedTime": null,
            "lastModifiedBy": null,
            "compendiumSource": null,
            "duplicateSource": null
          },
          "img": "icons/magic/control/debuff-energy-hold-green.webp",
          "type": "base",
          "system": {},
          "sort": 0,
          "_key": "!actors.items.effects!Nrg8vrMtj7FW0kP1.vzb0v6jdg8j3zegu.1h96e5p95dybhjbu"
        },
        {
          "changes": [
            {
              "key": "items.Unarmed Strike.data.damage.parts.0.0",
              "value": "1d6+@mod+1",
              "mode": 5,
              "priority": 20
            },
            {
              "key": "items.Unarmed Strike.data.properties.mgc",
              "value": "true",
              "mode": 5,
              "priority": 20
            },
            {
              "key": "items.Unarmed Strike.data.proficient",
              "value": "true",
              "mode": 5,
              "priority": 20
            },
            {
              "key": "items.Unarmed Strike.data.attackBonus",
              "value": "1",
              "mode": 2,
              "priority": 20
            }
          ],
          "duration": {
            "startTime": null,
            "seconds": null,
            "combat": null,
            "rounds": null,
            "turns": null,
            "startRound": null,
            "startTurn": null
          },
          "tint": "#ffffff",
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "none"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            }
          },
          "_id": "9qldhvlg93jvksas",
          "origin": null,
          "name": "Alter Self",
          "description": "",
          "statuses": [],
          "_stats": {
            "coreVersion": "12.331",
            "systemId": null,
            "systemVersion": null,
            "createdTime": null,
            "modifiedTime": null,
            "lastModifiedBy": null,
            "compendiumSource": null,
            "duplicateSource": null
          },
          "img": "icons/magic/control/debuff-energy-hold-green.webp",
          "type": "base",
          "system": {},
          "sort": 0,
          "_key": "!actors.items.effects!Nrg8vrMtj7FW0kP1.vzb0v6jdg8j3zegu.9qldhvlg93jvksas"
        }
      ],
      "folder": null,
      "sort": 0,
      "flags": {
        "ddbimporter": {
          "id": 136028,
          "definitionId": 1992,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Alter Self",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 211,
              "sourceType": 1
            }
          ],
          "tags": [
            "Shapechanging"
          ],
          "version": "2.9.67",
          "effectsApplied": true
        },
        "dnd5e": {}
      },
      "_id": "vzb0v6jdg8j3zegu",
      "system": {
        "description": {
          "value": "<p>You assume a different form. When you cast the spell, choose one of the following options, the effects of which last for the duration of the spell. While the spell lasts, you can end one option as an action to gain the benefits of a different one.</p>\n<p><strong>Aquatic Adaptation.</strong> You adapt your body to an aquatic environment, sprouting gills and growing webbing between your fingers. You can breathe underwater and gain a swimming speed equal to your walking speed.</p>\n<p><strong>Change Appearance.</strong> You transform your appearance. You decide what you look like, including your height, weight, facial features, sound of your voice, hair length, coloration, and distinguishing characteristics, if any. You can make yourself appear as a member of another race, though none of your statistics change. You also can't appear as a creature of a different size than you, and your basic shape stays the same; if you're bipedal, you can't use this spell to become quadrupedal, for instance. At any time for the duration of the spell, you can use your action to change your appearance in this way again.</p>\n<p><strong>Natural Weapons.</strong> You grow claws, fangs, spines, horns, or a different natural weapon of your choice. Your unarmed strikes deal 1d6 bludgeoning, piercing, or slashing damage, as appropriate to the natural weapon you chose, and you are proficient with your unarmed strikes. Finally, the natural weapon is magic and you have a +1 bonus to the attack and damage rolls you make using it.</p>",
          "chat": ""
        },
        "source": {
          "custom": "Basic Rules, Player's Handbook pg 211",
          "revision": 1,
          "rules": "2024"
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": "",
          "value": 1
        },
        "duration": {
          "value": "1",
          "units": "hour"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "",
          "width": null,
          "units": "",
          "type": "self",
          "prompt": true,
          "affects": {
            "type": "self",
            "count": "",
            "choice": false
          },
          "template": {
            "units": "",
            "contiguous": false
          }
        },
        "range": {
          "value": null,
          "long": null,
          "units": "self"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": "other",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "level": 2,
        "school": "trs",
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "summons": null,
        "properties": [
          "vocal",
          "somatic",
          "concentration"
        ],
        "enchantment": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "utility",
            "activation": {
              "type": "action",
              "value": null,
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "units": "inst",
              "concentration": false,
              "override": false
            },
            "effects": [
              {
                "_id": "1h96e5p95dybhjbu"
              },
              {
                "_id": "9qldhvlg93jvksas"
              }
            ],
            "range": {
              "override": false
            },
            "target": {
              "prompt": true,
              "template": {
                "contiguous": false,
                "units": "ft"
              },
              "affects": {
                "choice": false
              },
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "roll": {
              "formula": "",
              "name": "",
              "prompt": false,
              "visible": false
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": "none"
          }
        },
        "identifier": ""
      },
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.vzb0v6jdg8j3zegu"
    },
    {
      "name": "Invisibility",
      "type": "spell",
      "img": "icons/commodities/materials/glass-orb.webp",
      "effects": [
        {
          "changes": [
            {
              "key": "macro.itemMacro",
              "value": "@target",
              "mode": 0,
              "priority": 0
            }
          ],
          "duration": {
            "startTime": null,
            "seconds": null,
            "combat": null,
            "rounds": null,
            "turns": null,
            "startRound": null,
            "startTurn": null
          },
          "tint": "#ffffff",
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "none"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            }
          },
          "_id": "fnboc6c2ffaqrnww",
          "origin": null,
          "name": "Invisibility",
          "description": "",
          "statuses": [],
          "_stats": {
            "coreVersion": "12.331",
            "systemId": null,
            "systemVersion": null,
            "createdTime": null,
            "modifiedTime": null,
            "lastModifiedBy": null,
            "compendiumSource": null,
            "duplicateSource": null
          },
          "img": "icons/magic/air/fog-gas-smoke-blue-gray.webp",
          "type": "base",
          "system": {},
          "sort": 0,
          "_key": "!actors.items.effects!Nrg8vrMtj7FW0kP1.kv0o2hi8dfgyvjqc.fnboc6c2ffaqrnww"
        }
      ],
      "folder": null,
      "sort": 0,
      "flags": {
        "ddbimporter": {
          "id": 138364,
          "definitionId": 2159,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Invisibility",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 254,
              "sourceType": 1
            }
          ],
          "tags": [
            "Buff"
          ],
          "version": "2.9.67",
          "effectsApplied": true
        },
        "itemacro": {
          "macro": {
            "data": {
              "name": "Invisibility",
              "type": "script",
              "scope": "global",
              "command": "const lastArg = args[args.length - 1];\nconst target = await fromUuid(lastArg.tokenUuid);\n\nif (args[0] === \"on\") {\n  await target.update({hidden : true}); // hide targeted token\n  ChatMessage.create({content: target.name + \" turns invisible\", whisper: [game.user] });\n\n}\nif (args[0]=== \"off\") {\n  await target.update({hidden : false}); // unhide token\n  ChatMessage.create({content: target.name + \" re-appears\", whisper: [game.user] });\n}\n"
            },
            "options": {},
            "apps": {},
            "compendium": null
          }
        },
        "dnd5e": {}
      },
      "_id": "kv0o2hi8dfgyvjqc",
      "system": {
        "description": {
          "value": "<p>A creature you touch becomes @Compendium[dnd5e.rules.Invisible]{invisible} until the spell ends. Anything the target is wearing or carrying is @Compendium[dnd5e.rules.Invisible]{invisible} as long as it is on the target's person. The spell ends for a target that attacks or casts a spell.</p>\n<p><strong>At Higher Levels.</strong> When you cast this spell using a spell slot of 3rd level or higher, you can target one additional creature for each slot level above 2nd.</p>",
          "chat": ""
        },
        "source": {
          "custom": "Basic Rules, Player's Handbook pg 254",
          "revision": 1,
          "rules": "2024"
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": "",
          "value": 1
        },
        "duration": {
          "value": "1",
          "units": "hour"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": "1",
          "width": null,
          "units": "touch",
          "type": "creature",
          "prompt": true,
          "affects": {
            "type": "creature",
            "count": "1",
            "choice": false
          },
          "template": {
            "units": "touch",
            "contiguous": false
          }
        },
        "range": {
          "value": null,
          "long": null,
          "units": "touch"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": [],
          "prompt": true,
          "spent": 0
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": "util",
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "level": 2,
        "school": "ill",
        "materials": {
          "value": "an eyelash encased in gum arabic",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        },
        "attack": {
          "bonus": "",
          "flat": false
        },
        "summons": null,
        "properties": [
          "vocal",
          "somatic",
          "material",
          "concentration",
          "value"
        ],
        "enchantment": null,
        "activities": {
          "dnd5eactivity000": {
            "_id": "dnd5eactivity000",
            "type": "utility",
            "activation": {
              "type": "action",
              "value": null,
              "override": false
            },
            "consumption": {
              "targets": [],
              "scaling": {
                "allowed": false,
                "max": ""
              },
              "spellSlot": true
            },
            "description": {
              "chatFlavor": ""
            },
            "duration": {
              "units": "inst",
              "concentration": false,
              "override": false
            },
            "effects": [
              {
                "_id": "fnboc6c2ffaqrnww"
              }
            ],
            "range": {
              "override": false
            },
            "target": {
              "prompt": true,
              "template": {
                "contiguous": false,
                "units": "ft"
              },
              "affects": {
                "choice": false
              },
              "override": false
            },
            "uses": {
              "spent": 0,
              "max": "",
              "recovery": []
            },
            "roll": {
              "formula": "",
              "name": "",
              "prompt": false,
              "visible": false
            },
            "sort": 0,
            "useConditionText": "",
            "useConditionReason": "",
            "effectConditionText": "",
            "macroData": {
              "name": "",
              "command": ""
            },
            "ignoreTraits": {
              "idi": false,
              "idr": false,
              "idv": false,
              "ida": false
            },
            "midiProperties": {
              "ignoreTraits": [],
              "triggeredActivityId": "none",
              "triggeredActivityConditionText": "",
              "triggeredActivityTargets": "targets",
              "triggeredActivityRollAs": "self",
              "forceDialog": false,
              "confirmTargets": "default",
              "autoTargetType": "any",
              "autoTargetAction": "default",
              "automationOnly": false,
              "otherActivityCompatible": true,
              "identifier": "",
              "displayActivityName": false,
              "rollMode": "default",
              "chooseEffects": false,
              "toggleEffect": false,
              "ignoreFullCover": false
            },
            "isOverTimeFlag": false,
            "overTimeProperties": {
              "saveRemoves": true,
              "preRemoveConditionText": "",
              "postRemoveConditionText": ""
            },
            "otherActivityId": "none"
          }
        },
        "identifier": ""
      },
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!Nrg8vrMtj7FW0kP1.kv0o2hi8dfgyvjqc"
    }
  ],
  "effects": [],
  "folder": "JvBq76KcnxIjY4N7",
  "sort": 800000,
  "flags": {
    "dnd5e": {},
    "monsterMunch": {
      "url": "https://www.dndbeyond.com/monsters/17362-barovian-witch",
      "img": "https://www.dndbeyond.com/avatars/thumbnails/18/341/1000/1000/636379876850421049.png",
      "tokenImg": "https://www.dndbeyond.com/avatars/18/340/636379876849639796.jpeg",
      "spellList": {
        "class": [
          "ray of sickness",
          "sleep",
          "Tasha's hideous laughter",
          "alter self",
          "invisibility"
        ],
        "pact": [],
        "atwill": [
          "mage hand",
          "prestidigitation",
          "ray of frost"
        ],
        "innate": [],
        "edgeCases": [],
        "material": true
      }
    },
    "ddbimporter": {
      "id": 17362,
      "entityTypeId": 779871897,
      "creatureGroupId": null,
      "creatureFlags": [],
      "version": "2.9.67",
      "isLegacy": false,
      "flatAC": true
    },
    "midi-qol": {
      "concentration-damage": 0
    },
    "core": {
      "sourceId": "Compendium.world.ddb-lost-mines-phandelver-monsters.bnPzkXHGUAwjA3Dl"
    },
    "tidy5e-sheet": {
      "death": {
        "success": 0,
        "failure": 0
      },
      "maxPreparedSpells": null,
      "gender": "",
      "age": "",
      "height": "",
      "weight": "",
      "eyes": "",
      "skin": "",
      "hair": "",
      "notes1": {
        "name": ""
      },
      "notes2": {
        "name": ""
      },
      "notes3": {
        "name": ""
      },
      "notes4": {
        "name": ""
      }
    }
  },
  "system": {
    "abilities": {
      "str": {
        "value": 7,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        },
        "check": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        },
        "save": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        }
      },
      "dex": {
        "value": 11,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        },
        "check": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        },
        "save": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        }
      },
      "con": {
        "value": 13,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        },
        "check": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        },
        "save": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        }
      },
      "int": {
        "value": 14,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        },
        "check": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        },
        "save": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        }
      },
      "wis": {
        "value": 11,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        },
        "check": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        },
        "save": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        }
      },
      "cha": {
        "value": 12,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        },
        "check": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        },
        "save": {
          "roll": {
            "min": null,
            "max": null,
            "mode": 0
          }
        }
      }
    },
    "attributes": {
      "ac": {
        "flat": 10,
        "calc": "",
        "formula": ""
      },
      "hp": {
        "value": 16,
        "max": 16,
        "temp": null,
        "tempmax": null,
        "formula": "3d8 + 3"
      },
      "init": {
        "ability": "",
        "bonus": "0",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "movement": {
        "burrow": null,
        "climb": null,
        "fly": null,
        "swim": null,
        "walk": 30,
        "units": "ft",
        "hover": false
      },
      "attunement": {
        "max": 3
      },
      "senses": {
        "darkvision": 60,
        "blindsight": null,
        "tremorsense": null,
        "truesight": null,
        "units": "ft",
        "special": ""
      },
      "spellcasting": "int",
      "exhaustion": 0,
      "concentration": {
        "ability": "",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "bonuses": {
          "save": ""
        },
        "limit": 1
      },
      "death": {
        "ability": "",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "success": 0,
        "failure": 0,
        "bonuses": {
          "save": ""
        }
      },
      "hd": {
        "spent": 0
      },
      "spell": {
        "level": 3
      },
      "loyalty": {
        "value": null
      }
    },
    "details": {
      "biography": {
        "value": "<p>The mad women and men known as Barovian witches forge pacts with Strahd and the Dark Powers of Ravenloft in exchange for magic and longevity. They prefer to live in the shadows and can see in the dark. When traveling in the open, they use alter self spells to assume less conspicuous forms. They also use these spells to grow long, sharp claws with which they can attack.</p>\n<p><em><strong>Brothers and Sisters of Strahd.</strong></em> Barovian witches have no scruples. They will deal with anyone in return for power. They will also betray anyone for the same reason. The only thing they fear is Strahd, and his wish is their command. Barovian witches sometimes refer to themselves as the brothers and sisters of Strahd, though never to Strahd’s face.</p>\n<p><em><strong>Pack Rats with Cats.</strong></em> Barovian witches are obsessive collectors, each believing that almost anything found—a piece of broken bone, a dead rodent, a handful of dust, or some other worthless item or substance—could be valuable or useful as a spell component, a ritual object, or a potion ingredient.</p>\n<p>Barovian witches use the find familiar spell to call forth familiars. They are particularly fond of cats, though snakes and toads are also common. These animals lurk amid the clutter of the witches’ lairs, seldom wandering far from their vile masters.</p>",
        "public": ""
      },
      "alignment": "Chaotic Evil",
      "race": null,
      "type": {
        "value": "humanoid",
        "subtype": "",
        "swarm": "",
        "custom": ""
      },
      "environment": "",
      "cr": 0.5,
      "spellLevel": 3,
      "source": {
        "custom": "Curse of Strahd pg 229"
      },
      "ideal": "",
      "bond": "",
      "flaw": "",
      "habitat": {
        "custom": "",
        "value": []
      },
      "treasure": {
        "value": []
      }
    },
    "traits": {
      "size": "med",
      "di": {
        "value": [],
        "bypasses": [],
        "custom": ""
      },
      "dr": {
        "value": [],
        "bypasses": [],
        "custom": ""
      },
      "dv": {
        "value": [],
        "bypasses": [],
        "custom": ""
      },
      "ci": {
        "value": [],
        "custom": ""
      },
      "languages": {
        "value": [
          "common"
        ],
        "custom": "",
        "communication": {}
      },
      "dm": {
        "amount": {},
        "bypasses": []
      },
      "important": false
    },
    "currency": {
      "pp": 0,
      "gp": 0,
      "ep": 0,
      "sp": 0,
      "cp": 0
    },
    "skills": {
      "acr": {
        "value": 0,
        "ability": "dex",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "ani": {
        "value": 0,
        "ability": "wis",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "arc": {
        "value": 1,
        "ability": "int",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "ath": {
        "value": 0,
        "ability": "str",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "dec": {
        "value": 0,
        "ability": "cha",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "his": {
        "value": 0,
        "ability": "int",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "ins": {
        "value": 0,
        "ability": "wis",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "itm": {
        "value": 0,
        "ability": "cha",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "inv": {
        "value": 0,
        "ability": "int",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "med": {
        "value": 0,
        "ability": "wis",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "nat": {
        "value": 0,
        "ability": "int",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "prc": {
        "value": 1,
        "ability": "wis",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "prf": {
        "value": 0,
        "ability": "cha",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "per": {
        "value": 0,
        "ability": "cha",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "rel": {
        "value": 0,
        "ability": "int",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "slt": {
        "value": 0,
        "ability": "dex",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "ste": {
        "value": 0,
        "ability": "dex",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      },
      "sur": {
        "value": 0,
        "ability": "wis",
        "bonuses": {
          "check": "",
          "passive": ""
        },
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        }
      }
    },
    "tools": {},
    "spells": {
      "spell1": {
        "value": 4,
        "override": 4
      },
      "spell2": {
        "value": 2,
        "override": 2
      },
      "spell3": {
        "value": 0,
        "override": null
      },
      "spell4": {
        "value": 0,
        "override": null
      },
      "spell5": {
        "value": 0,
        "override": null
      },
      "spell6": {
        "value": 0,
        "override": null
      },
      "spell7": {
        "value": 0,
        "override": null
      },
      "spell8": {
        "value": 0,
        "override": null
      },
      "spell9": {
        "value": 0,
        "override": null
      },
      "pact": {
        "value": 0,
        "override": null
      }
    },
    "bonuses": {
      "mwak": {
        "attack": "",
        "damage": ""
      },
      "rwak": {
        "attack": "",
        "damage": ""
      },
      "msak": {
        "attack": "",
        "damage": ""
      },
      "rsak": {
        "attack": "",
        "damage": ""
      },
      "abilities": {
        "check": "",
        "save": "",
        "skill": ""
      },
      "spell": {
        "dc": ""
      }
    },
    "resources": {
      "legact": {
        "value": 0,
        "max": 0
      },
      "legres": {
        "value": 0,
        "max": 0
      },
      "lair": {
        "value": false,
        "initiative": 0,
        "inside": false
      }
    },
    "source": {
      "custom": "Curse of Strahd pg 229",
      "revision": 1,
      "rules": "2014"
    }
  },
  "ownership": {
    "default": 0,
    "6yhz13iFYYklKtgA": 3
  },
  "prototypeToken": {
    "name": "Barovian Witch",
    "displayName": 20,
    "actorLink": false,
    "width": 1,
    "height": 1,
    "lockRotation": false,
    "rotation": 0,
    "alpha": 1,
    "light": {
      "alpha": 0.5,
      "angle": 360,
      "bright": 0,
      "coloration": 1,
      "dim": 0,
      "luminosity": 0.5,
      "saturation": 0,
      "contrast": 0,
      "shadows": 0,
      "animation": {
        "speed": 5,
        "intensity": 5,
        "reverse": false,
        "type": null
      },
      "darkness": {
        "min": 0,
        "max": 1
      },
      "color": null,
      "attenuation": 0.5,
      "negative": false,
      "priority": 0
    },
    "disposition": -1,
    "displayBars": 40,
    "bar1": {
      "attribute": "attributes.hp"
    },
    "bar2": {
      "attribute": null
    },
    "flags": {
      "autorotate": {
        "enabled": null
      },
      "monks-tokenbar": {
        "include": "default"
      }
    },
    "randomImg": false,
    "texture": {
      "src": "modules/sdnd-strahd-adv/images/tokens/NPC/Barovian_Witch_Token.webp",
      "tint": "#ffffff",
      "scaleX": 1,
      "scaleY": 1,
      "offsetX": 0,
      "offsetY": 0,
      "rotation": 0,
      "anchorX": 0.5,
      "anchorY": 0.5,
      "fit": "contain",
      "alphaThreshold": 0.75
    },
    "sight": {
      "angle": 360,
      "enabled": false,
      "range": 60,
      "brightness": 0,
      "visionMode": "basic",
      "color": null,
      "attenuation": 0.1,
      "saturation": 0,
      "contrast": 0
    },
    "detectionModes": [],
    "appendNumber": false,
    "prependAdjective": false,
    "hexagonalShape": 0,
    "occludable": {
      "radius": 0
    },
    "ring": {
      "enabled": false,
      "colors": {
        "ring": null,
        "background": null
      },
      "effects": 1,
      "subject": {
        "scale": 1,
        "texture": null
      }
    }
  },
  "_stats": {
    "systemId": "dnd5e",
    "systemVersion": "4.4.2",
    "coreVersion": "12.343",
    "createdTime": 1728566217766,
    "modifiedTime": 1748178367077,
    "lastModifiedBy": "6yhz13iFYYklKtgA",
    "compendiumSource": "Compendium.world.ddb-lost-mines-phandelver-monsters.bnPzkXHGUAwjA3Dl",
    "duplicateSource": null
  },
  "_key": "!actors!Nrg8vrMtj7FW0kP1"
}
